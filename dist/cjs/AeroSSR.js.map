{"version":3,"file":"AeroSSR.js","sources":["../../../src/AeroSSR.ts"],"sourcesContent":[null],"names":["promisify","gzip","createCache","Logger","parseUrl","setCorsHeaders","handleError","generateBundle","etag","generateETag","join","html","fs","injectMetaTags","createServer"],"mappings":"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"}