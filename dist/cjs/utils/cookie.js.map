{"version":3,"file":"cookie.js","sources":["../../../../src/utils/cookie.ts"],"sourcesContent":["export interface CookieOptions {\r\n    domain?: string;\r\n    path?: string;\r\n    secure?: boolean;\r\n    sameSite?: 'Strict' | 'Lax' | 'None';\r\n    httpOnly?: boolean;\r\n    maxAge?: number;\r\n  }\r\n  \r\n  /**\r\n   * Check if we're in a browser environment\r\n   */\r\n  function isBrowser(): boolean {\r\n    return typeof window !== 'undefined' && typeof document !== 'undefined';\r\n  }\r\n  \r\n  /**\r\n   * Sets a cookie with the specified name, value and options\r\n   */\r\n  export function setCookie(\r\n    name: string, \r\n    value: string, \r\n    days: number,\r\n    options: CookieOptions = {}\r\n  ): void {\r\n    if (!isBrowser()) {\r\n      return;\r\n    }\r\n  \r\n    const date = new Date();\r\n    date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\r\n  \r\n    const cookieParts = [\r\n      `${encodeURIComponent(name)}=${encodeURIComponent(value)}`,\r\n      `expires=${date.toUTCString()}`,\r\n      `path=${options.path || '/'}`\r\n    ];\r\n  \r\n    if (options.domain) {\r\n      cookieParts.push(`domain=${options.domain}`);\r\n    }\r\n  \r\n    if (options.secure) {\r\n      cookieParts.push('secure');\r\n    }\r\n  \r\n    if (options.sameSite) {\r\n      cookieParts.push(`samesite=${options.sameSite}`);\r\n    }\r\n  \r\n    if (options.httpOnly) {\r\n      cookieParts.push('httponly');\r\n    }\r\n  \r\n    document.cookie = cookieParts.join('; ');\r\n  }\r\n  \r\n  /**\r\n   * Gets a cookie value by name\r\n   */\r\n  export function getCookie(name: string): string | null {\r\n    if (!isBrowser()) {\r\n      return null;\r\n    }\r\n  \r\n    const nameEQ = encodeURIComponent(name) + '=';\r\n    const cookies = document.cookie.split(';');\r\n  \r\n    for (let cookie of cookies) {\r\n      cookie = cookie.trim();\r\n      if (cookie.indexOf(nameEQ) === 0) {\r\n        return decodeURIComponent(cookie.substring(nameEQ.length));\r\n      }\r\n    }\r\n  \r\n    return null;\r\n  }\r\n  \r\n  /**\r\n   * Deletes a cookie by name\r\n   */\r\n  export function deleteCookie(\r\n    name: string, \r\n    options: Omit<CookieOptions, 'maxAge' | 'expires'> = {}\r\n  ): void {\r\n    if (!isBrowser()) {\r\n      return;\r\n    }\r\n  \r\n    const cookieParts = [\r\n      `${encodeURIComponent(name)}=`,\r\n      'expires=Thu, 01 Jan 1970 00:00:00 GMT',\r\n      `path=${options.path || '/'}`\r\n    ];\r\n  \r\n    if (options.domain) {\r\n      cookieParts.push(`domain=${options.domain}`);\r\n    }\r\n  \r\n    if (options.secure) {\r\n      cookieParts.push('secure');\r\n    }\r\n  \r\n    if (options.sameSite) {\r\n      cookieParts.push(`samesite=${options.sameSite}`);\r\n    }\r\n  \r\n    if (options.httpOnly) {\r\n      cookieParts.push('httponly');\r\n    }\r\n  \r\n    document.cookie = cookieParts.join('; ');\r\n  }\r\n  \r\n  /**\r\n   * Checks if cookies are enabled in the browser\r\n   */\r\n  export function areCookiesEnabled(): boolean {\r\n    if (!isBrowser()) {\r\n      return false;\r\n    }\r\n  \r\n    try {\r\n      const testKey = '__cookie_test__';\r\n      const testValue = 'test';\r\n      \r\n      setCookie(testKey, testValue, 1);\r\n      const result = getCookie(testKey) === testValue;\r\n      deleteCookie(testKey);\r\n      \r\n      return result;\r\n    } catch {\r\n      return false;\r\n    }\r\n  }\r\n  \r\n  /**\r\n   * Gets all cookies as a key-value object\r\n   */\r\n  export function getAllCookies(): Record<string, string> {\r\n    if (!isBrowser()) {\r\n      return {};\r\n    }\r\n  \r\n    return document.cookie\r\n      .split(';')\r\n      .reduce((cookies: Record<string, string>, cookie) => {\r\n        const [name, value] = cookie.split('=').map(c => c.trim());\r\n        if (name && value) {\r\n          cookies[decodeURIComponent(name)] = decodeURIComponent(value);\r\n        }\r\n        return cookies;\r\n      }, {});\r\n  }"],"names":[],"mappings":"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"}